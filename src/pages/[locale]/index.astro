---
import { getCollection, getEntryBySlug } from "astro:content";
// Layouts
import Layout from "@Layouts/Layout.astro";
import SectionHero from "@Components/home-page/section-hero/SectionHero.astro";
import SectionActivities from "@Components/home-page/section-activities/SectionActivities.astro";

// import { SectionHero } from '@Components/home-page/section-hero'
// Export data from Markdown collections
export async function getStaticPaths() {
  const collection = await getCollection("home");

  return collection.map((coll) => {
    return { params: { locale: coll.slug }, props: coll.data };
  });
}
export const prerender = true;
export type Hero = typeof Astro.props;
const props = Astro.props;

const lang = Astro.params.locale;
let collection;
// if (lang === "ru") {
collection = await getEntryBySlug("home", lang);
// } else {
//   collection = await getEntryBySlug("home", lang);
// }

// import FetchFromDatoCMS from "@Lib/datocms.ts";
// const data = await FetchFromDatoCMS(lang);

// LOCAL DATA!!!
// Remove CACHE folder to get updated data!!!
// import LocaleData from "@Lib/localdata";
// const data = await LocaleData(lang);

console.log(collection, lang);
---

<Layout>
  <main>
    <SectionHero data={props} />
    <SectionActivities />
  </main>
</Layout>

<style is:global>
  /* .hero {
    padding-block-start: var(--gap-72);
  }

  .hero__label,
  .hero__title,
  .hero__desc,
  .hero__action-btns {
    grid-column: 2 / -2;
    justify-self: center;
  }

  .hero__label,
  .hero__desc {
    color: var(--grey-300);
  }

  .hero__label {
    font-size: var(--font-20);
  }

  .hero__desc {
    max-width: 660px;
    color: var(--grey-300);
    font-size: var(--font-24);
    text-align: center;
    line-height: 1.4;
  } */
</style>
