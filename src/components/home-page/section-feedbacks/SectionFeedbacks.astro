---
import H2Title from "@Components/ui-elements/H2Title.astro";
import H2Description from "@Components/ui-elements/H2Description.astro";
import Carousel from "@Components/ui-elements/Carousel.astro";
import Feedback from "./Feedback.astro";

import type { IBodyWithItems } from "@Types";
interface Props {
  data: IBodyWithItems;
}

const { primary, items } = Astro.props.data;
---

<section class="grid main-section">
  <H2Title>{primary.heading}</H2Title>
  <H2Description>{primary.text}</H2Description>
  <Carousel>
    {
      items.map((i, index) => {
        if ("heading" in i) {
          return <Feedback heading={i.heading} text={i.text} index={index} />;
        }
        return null;
      })
    }
  </Carousel>
</section>
